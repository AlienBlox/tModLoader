--- src/TerrariaNetCore/Terraria/UI/UserInterface.cs
+++ src/tModLoader/Terraria/UI/UserInterface.cs
@@ -7,7 +_,7 @@
 
 namespace Terraria.UI;
 
-public class UserInterface
+public partial class UserInterface
 {
 	private delegate void MouseElementEvent(UIElement element, UIMouseEvent evt);
 
@@ -77,6 +_,11 @@
 	{
 		LeftMouse.Clear();
 		RightMouse.Clear();
+		
+		mouseRightData.ResetState();
+		mouseMiddleData.ResetState();
+		mouseXButton1Data.ResetState();
+		mouseXButton2Data.ResetState();
 	}
 
 	public void ResetLasts()
@@ -86,6 +_,8 @@
 
 		ClearPointers();
 		_lastElementHover = null;
+
+		mouseRightData.ResetLasts();
 	}
 
 	public void EscapeElements()
@@ -113,6 +_,11 @@
 	{
 		LeftMouse.WasDown = Main.mouseLeft;
 		RightMouse.WasDown = Main.mouseRight;
+
+		mouseRightData.WasDown = Main.mouseRight;
+		mouseMiddleData.WasDown = Main.mouseMiddle;
+		mouseXButton1Data.WasDown = Main.mouseXButton1;
+		mouseXButton2Data.WasDown = Main.mouseXButton2;
 	}
 
 	private void ResetState()
@@ -140,9 +_,30 @@
 			return;
 
 		GetMousePosition();
+
+		mouseRightData.IsDown = Main.mouseRight && Main.hasFocus;
+		mouseMiddleData.IsDown = Main.mouseMiddle && Main.hasFocus;
+		mouseXButton1Data.IsDown = Main.mouseXButton1 && Main.hasFocus;
+		mouseXButton2Data.IsDown = Main.mouseXButton2 && Main.hasFocus;
+
 		UIElement uIElement = (Main.hasFocus ? _currentState.GetElementAt(MousePosition) : null);
 		_clickDisabledTimeRemaining = Math.Max(0.0, _clickDisabledTimeRemaining - time.ElapsedGameTime.TotalMilliseconds);
 		bool num = _clickDisabledTimeRemaining > 0.0;
+		
+		try {
+			Update_Inner(time, uIElement, ref num);
+		}
+		catch {
+			throw;
+		}
+		finally {
+			Update_End(time);
+		}
+	}
+
+	// A split to add a try-catch-finally block without indentation issues.
+	private void Update_Inner(GameTime time, UIElement uIElement, ref bool num)
+	{
 		if (uIElement != _lastElementHover) {
 			if (_lastElementHover != null)
 				_lastElementHover.MouseOut(new UIMouseEvent(_lastElementHover, MousePosition));
@@ -156,10 +_,61 @@
 			HandleClick(RightMouse, time, Main.mouseRight && Main.hasFocus, uIElement);
 		}
 
+		// TML-introduced functionality - right, middle, extra button 1 & 2 click Events
+
+		// Right
+		UpdateButtonState(
+			time, uIElement, num,
+			ref mouseRightData,
+			e => e.Target.RightClick(e),
+			e => e.Target.RightDoubleClick(e),
+			e => e.Target.RightMouseDown(e),
+			e => e.Target.RightMouseUp(e)
+		);
+		// Middle
+		UpdateButtonState(
+			time, uIElement, num,
+			ref mouseMiddleData,
+			e => e.Target.MiddleClick(e),
+			e => e.Target.MiddleDoubleClick(e),
+			e => e.Target.MiddleMouseDown(e),
+			e => e.Target.MiddleMouseUp(e)
+		);
+		// XButton1
+		UpdateButtonState(
+			time, uIElement, num,
+			ref mouseXButton1Data,
+			e => e.Target.XButton1Click(e),
+			e => e.Target.XButton1DoubleClick(e),
+			e => e.Target.XButton1MouseDown(e),
+			e => e.Target.XButton1MouseUp(e)
+		);
+		// XButton2
+		UpdateButtonState(
+			time, uIElement, num,
+			ref mouseXButton2Data,
+			e => e.Target.XButton2Click(e),
+			e => e.Target.XButton2DoubleClick(e),
+			e => e.Target.XButton2MouseDown(e),
+			e => e.Target.XButton2MouseUp(e)
+		);
+
 		if (PlayerInput.ScrollWheelDeltaForUI != 0) {
 			uIElement?.ScrollWheel(new UIScrollWheelEvent(uIElement, MousePosition, PlayerInput.ScrollWheelDeltaForUI));
+			// Moved to after SystemHooks.UpdateUI(gameTime);
+			/*
 			PlayerInput.ScrollWheelDeltaForUI = 0;
+			*/
 		}
+	}
+
+	// Another split, to be called in 'finally'.
+	private void Update_End(GameTime time)
+	{
+		mouseRightData.WasDown = mouseRightData.IsDown;
+		mouseMiddleData.WasDown = mouseMiddleData.IsDown;
+		mouseXButton1Data.WasDown = mouseXButton1Data.IsDown;
+		mouseXButton2Data.WasDown = mouseXButton2Data.IsDown;
 
 		if (_currentState != null)
 			_currentState.Update(time);
